# An example Python native package build with litgen


### Structure of this example

````
example/
├── CMakeLists.txt                 # Builds lib example_library (from folder example_library/) 
│                                  # as well as native python module named "_cpp_litgensample" (from folder bindings/)
│                                  # (also calls autogenerate_litgensample.py before build)
│
├── example_library/               # Example of a library for which we would like to generate bindings
│         ├── litgensample.h       # The bindings are generated by parsing this public API header
│         └── litgensample.cpp
│
├── autogenerate_litgensample.py   # Configures litgen options and calls the code generation that populates bindings/
│
├── bindings/
│      ├── module.cpp              # Module main file
│      └── pybind_litgensample.cpp # Autogenerated python bindings (c++ code)
│         │
│         └──litgensample/        # A standard python package name "litgensample". Imports "_cpp_litgensample" functions             
│               ├── __init__.py    # and publishes them  (__init__.py extract: `from _cpp_litgensample import *`)
│               │
│               ├── __init__.pyi   # Autogenerated python stub file. Helps autocomplete and documentation browsing 
│               │                  # inside IDEs. This code is in python, and could be seen as the equivalent  
│               │                  # of a header file, for python. 
│               │
│               └── _cpp_litgensample.cpython-XX.so* # Compiled _cpp_litgensample module location after build
│                                                    # (used in pip editable mode)
│
├── external/
│         └── pybind11/            # pybind11 submodule      
│
├── pyproject.toml                 # Standard setuptools config. Add you build requirements here
├── setup.py                       # Standard setuptools config, using scikit-build
│
└── _skbuild/                      # Temp build directory used by pip + scikit-build (mentioned in .gitignore)
````

_Structure inside site-packages after installation (`pip install .`)_

````
../venv/lib/python3.9/site-packages/litgensample/
├── __init__.py
├── __init__.pyi
└── _cpp_litgensample.cpython-XX.so
````

_Note about cmake install path_

`setup.py`, specifies `cmake_install_dir="bindings/litgensample`, and `CMakeLists.txt`specifies
`install(TARGETS _cpp_litgensample DESTINATION .)` so that the _cpp_litgensample module final location will be `src/scikit_build_example/`
