#include "litgensample.h"

#include <pybind11/pybind11.h>
#include <pybind11/numpy.h>

//#include "imgui_helper.hpp"
//#include "leaked_ptr.hpp"

namespace py = pybind11;


void py_init_module_litgensample(py::module& m)
{
    using namespace LiterateGeneratorExample;

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!  AUTOGENERATED CODE !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// <autogen:pydef_cpp> // Autogenerated code below! Do not edit!

    auto pyClassFoo = py::class_<Foo>
        (m, "Foo", 
        "A superb struct")

        .def(py::init<>()) 
        .def_readwrite("factor", &Foo::factor, "Multiplication factor")
        .def_readwrite("delta", &Foo::delta, "addition factor")

        .def("calc",
            [](Foo& self, int x)
            {
                return self.calc(x);
            },
            py::arg("x"),
            "Do some math"
        )

        ; 


    m.def("add",
        [](int a, int b)
        {
            return add(a, b);
        },
        py::arg("a"),
        py::arg("b"),
        "Adds two numbers"
    );


    m.def("add",
        [](int a, int b, int c)
        {
            return add(a, b, c);
        },
        py::arg("a"),
        py::arg("b"),
        py::arg("c"),
        "Adds three numbers, with a surprise"
    );


    m.def("add_inside_array",
        [](py::array & array, int number_to_add)
        {
            // convert array (py::array&) to C standard buffer
            int* array_buffer = (int*) array.data();
            int array_count = array.shape()[0];
                
            return add_inside_array(array_buffer, array_count, number_to_add);
        },
        py::arg("array"),
        py::arg("number_to_add"),
        "Modify an array by adding a value to its elements"
    );


    m.def("sub",
        [](int a, int b)
        {
            return sub(a, b);
        },
        py::arg("a"),
        py::arg("b"),
        ""
    );


    m.def("mul",
        [](int a, int b)
        {
            return mul(a, b);
        },
        py::arg("a"),
        py::arg("b"),
        ""
    );


// </autogen:pydef_cpp> // Autogenerated code below! Do not edit!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!  AUTOGENERATED CODE END !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

}